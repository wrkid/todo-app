{"ast":null,"code":"import _objectSpread from\"/Users/w.k/Desktop/KATA/todo-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/w.k/Desktop/KATA/todo-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"/Users/w.k/Desktop/KATA/todo-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/w.k/Desktop/KATA/todo-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/w.k/Desktop/KATA/todo-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/w.k/Desktop/KATA/todo-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{React,Component}from\"react\";import NewTaskForm from\"../NewTaskForm\";import AppMain from\"../app-main\";import'./app.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.deleteTask=function(id){_this.setState(function(_ref){var todosData=_ref.todosData;var idx=todosData.findIndex(function(el){return el.id===id;});var newData=[].concat(_toConsumableArray(todosData.slice(0,idx)),_toConsumableArray(todosData.slice(idx+1)));return{todosData:newData};});};_this.addTask=function(task){_this.setState(function(_ref2){var todosData=_ref2.todosData;var newTask=_this.createNewTask(task);var newData=[].concat(_toConsumableArray(todosData),[newTask]);return{todosData:newData};});};_this.onToggleDone=function(id){_this.setState(function(_ref3){var todosData=_ref3.todosData;var idx=todosData.findIndex(function(el){return el.id===id;});var oldTask=todosData[idx];var newTask=_objectSpread(_objectSpread({},oldTask),{},{done:!oldTask.done});var newArray=todosData.with(idx,newTask);return{todosData:newArray};});};_this.deleteCompleted=function(){_this.setState(function(_ref4){var todosData=_ref4.todosData;var newData=todosData.filter(function(todo){return!todo.done;});return{todosData:newData};});};_this.changeFilter=function(v){_this.setState(function(){return{filter:v};});};_this.filteredTasks=function(){var _this$state=_this.state,todosData=_this$state.todosData,filter=_this$state.filter;var filteredData;if(filter==='All'){filteredData=todosData.filter(function(todo){return todo.description;});}else{filteredData=todosData.filter(function(todo){if(filter==='Active'){return!todo.done;}return todo.done;});}return filteredData;};_this.editTask=function(idE,newDescription){_this.setState(function(_ref5){var todosData=_ref5.todosData;var idx=todosData.findIndex(function(el){return el.id===idE;});var oldTask=todosData[idx];var newTask=_objectSpread(_objectSpread({},oldTask),{},{description:newDescription});var newArray=todosData.with(idx,newTask);return{todosData:newArray};});};_this.state={todosData:[],filter:'All'};_this.maxId=0;return _this;}_createClass(App,[{key:\"createNewTask\",value:function createNewTask(task){this.maxId+=1;var newId=this.maxId.toString();return{id:newId,done:false,description:task,createdTime:new Date()};}},{key:\"render\",value:function render(){var _this$state2=this.state,todosData=_this$state2.todosData,filter=_this$state2.filter;var todoCounter=todosData.filter(function(todo){return!todo.done;}).length;return/*#__PURE__*/_jsxs(\"section\",{className:\"todoapp\",children:[/*#__PURE__*/_jsx(NewTaskForm,{addTask:this.addTask}),/*#__PURE__*/_jsx(AppMain,{todos:this.filteredTasks(),onDeleted:this.deleteTask,onToggleDone:this.onToggleDone,counter:todoCounter,filter:filter,changeFilter:this.changeFilter,deleteCompleted:this.deleteCompleted,editTask:this.editTask})]});}}]);return App;}(Component);export{App as default};","map":{"version":3,"names":["React","Component","NewTaskForm","AppMain","jsx","_jsx","jsxs","_jsxs","App","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","call","deleteTask","id","setState","_ref","todosData","idx","findIndex","el","newData","concat","_toConsumableArray","slice","addTask","task","_ref2","newTask","createNewTask","onToggleDone","_ref3","oldTask","_objectSpread","done","newArray","with","deleteCompleted","_ref4","filter","todo","changeFilter","v","filteredTasks","_this$state","state","filteredData","description","editTask","idE","newDescription","_ref5","maxId","_createClass","key","value","newId","toString","createdTime","Date","render","_this$state2","todoCounter","length","className","children","todos","onDeleted","counter","default"],"sources":["/Users/w.k/Desktop/KATA/todo-app/src/components/app/app.jsx"],"sourcesContent":["import {React, Component} from \"react\";\nimport NewTaskForm from \"../NewTaskForm\";\nimport AppMain from \"../app-main\";\nimport './app.css'\n\nexport default class App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      todosData: [],\n      filter: 'All',\n    };\n    this.maxId = 0\n  };\n\n  deleteTask = (id) => {\n    this.setState(({ todosData }) => {\n      const idx = todosData.findIndex((el) => el.id === id);\n      const newData = [\n        ...todosData.slice(0, idx),\n        ...todosData.slice(idx + 1),\n      ];\n      return {\n        todosData: newData,\n      };\n    });\n  };\n\n  addTask = (task) => {\n    this.setState(({ todosData }) => {\n      const newTask = this.createNewTask(task);\n      const newData = [...todosData, newTask];\n      return {\n        todosData: newData,\n      };\n    });\n  };\n\n  onToggleDone = (id) => {\n    this.setState(({ todosData }) => {\n      const idx = todosData.findIndex(el => el.id === id);\n      const oldTask = todosData[idx];\n      const newTask = {...oldTask, done: !oldTask.done};\n      const newArray = todosData.with(idx, newTask);\n      return {\n        todosData: newArray,\n      };\n    });\n  };\n\n  deleteCompleted = () => {\n    this.setState(({ todosData }) => {\n      const newData = todosData.filter(todo => !todo.done)\n      return {\n        todosData: newData\n      }\n    })\n  }\n\n  changeFilter = (v) => {\n    this.setState(() => ({ filter: v }));\n  };\n\n  filteredTasks = () => {\n    const { todosData, filter } = this.state;\n    let filteredData;\n    if (filter === 'All') {\n      filteredData = todosData.filter(todo => todo.description);\n    } else {\n      filteredData = todosData.filter(todo => {\n        if (filter === 'Active') {\n          return !todo.done;\n        }\n        return todo.done;\n      });\n    }\n    return filteredData\n  }\n\n  editTask = (idE, newDescription) => {\n    this.setState(({ todosData }) => {\n      const idx = todosData.findIndex(el => el.id === idE);\n      const oldTask = todosData[idx];\n      const newTask = {...oldTask, description: newDescription};\n      const newArray = todosData.with(idx, newTask);\n      return {\n        todosData: newArray,\n      };\n    });\n  }\n\n  createNewTask(task) {\n    this.maxId += 1;\n    const newId = this.maxId.toString();\n    return {\n      id: newId,\n      done: false,\n      description: task,\n      createdTime: new Date(),\n    };\n  }\n\n  render () {\n    const { todosData, filter } = this.state;\n    const todoCounter = todosData.filter(todo => !todo.done).length;\n    return (\n      <section className = 'todoapp'>\n        <NewTaskForm addTask = {this.addTask}/>\n        <AppMain todos = {this.filteredTasks()}\n                onDeleted={this.deleteTask}\n                onToggleDone = {this.onToggleDone}\n                counter = {todoCounter}\n                filter = {filter}\n                changeFilter = {this.changeFilter}\n                deleteCompleted = {this.deleteCompleted}\n                editTask = {this.editTask}/>\n      </section>\n    );\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}