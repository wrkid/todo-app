{"ast":null,"code":"var _jsxFileName = \"/Users/w.k/Desktop/KATA/todo-app/src/components/app/app.jsx\";\nimport { React, Component } from \"react\";\nimport NewTaskForm from \"../NewTaskForm\";\nimport AppMain from \"../app-main\";\nimport './app.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class App extends Component {\n  constructor() {\n    super();\n    this.deleteTask = id => {\n      this.setState(({\n        todosData\n      }) => {\n        const idx = todosData.findIndex(el => el.id === id);\n        const newData = [...todosData.slice(0, idx), ...todosData.slice(idx + 1)];\n        return {\n          todosData: newData\n        };\n      });\n    };\n    this.addTask = task => {\n      this.setState(({\n        todosData\n      }) => {\n        const newTask = this.createNewTask(task);\n        const newData = [...todosData, newTask];\n        return {\n          todosData: newData\n        };\n      });\n    };\n    this.onToggleDone = id => {\n      this.setState(({\n        todosData\n      }) => {\n        const idx = todosData.findIndex(el => el.id === id);\n        const oldTask = todosData[idx];\n        const newTask = {\n          ...oldTask,\n          done: !oldTask.done\n        };\n        const newArray = todosData.with(idx, newTask);\n        return {\n          todosData: newArray\n        };\n      });\n    };\n    this.deleteCompleted = () => {\n      this.setState(({\n        todosData\n      }) => {\n        const newData = todosData.filter(todo => !todo.done);\n        return {\n          todosData: newData\n        };\n      });\n    };\n    this.changeFilter = v => {\n      this.setState(() => ({\n        filter: v\n      }));\n    };\n    this.filteredTasks = () => {\n      const {\n        todosData,\n        filter\n      } = this.state;\n      let filteredData;\n      if (filter === 'All') {\n        filteredData = todosData.filter(todo => todo.description);\n      } else {\n        filteredData = todosData.filter(todo => {\n          if (filter === 'Active') {\n            return !todo.done;\n          }\n          return todo.done;\n        });\n      }\n      return filteredData;\n    };\n    this.state = {\n      todosData: [this.createNewTask('learn JS'), this.createNewTask('drink coffee')],\n      filter: 'All'\n    };\n  }\n  createNewTask(task) {\n    return {\n      id: this.state.todosData.length + 1,\n      done: false,\n      description: task,\n      createdTime: new Date()\n    };\n  }\n  render() {\n    const {\n      todosData,\n      filter\n    } = this.state;\n    const todoCounter = todosData.filter(todo => !todo.done).length;\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"todoapp\",\n      children: [/*#__PURE__*/_jsxDEV(NewTaskForm, {\n        addTask: this.addTask\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AppMain, {\n        todos: this.filteredTasks(),\n        onDeleted: this.deleteTask,\n        onToggleDone: this.onToggleDone,\n        counter: todoCounter,\n        filter: filter,\n        changeFilter: this.changeFilter,\n        deleteCompleted: this.deleteCompleted\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Component","NewTaskForm","AppMain","jsxDEV","_jsxDEV","App","constructor","deleteTask","id","setState","todosData","idx","findIndex","el","newData","slice","addTask","task","newTask","createNewTask","onToggleDone","oldTask","done","newArray","with","deleteCompleted","filter","todo","changeFilter","v","filteredTasks","state","filteredData","description","length","createdTime","Date","render","todoCounter","className","children","fileName","_jsxFileName","lineNumber","columnNumber","todos","onDeleted","counter"],"sources":["/Users/w.k/Desktop/KATA/todo-app/src/components/app/app.jsx"],"sourcesContent":["import {React, Component} from \"react\";\nimport NewTaskForm from \"../NewTaskForm\";\nimport AppMain from \"../app-main\";\nimport './app.css'\n\nexport default class App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      todosData: [\n        this.createNewTask('learn JS'),\n        this.createNewTask('drink coffee')\n      ],\n      filter: 'All',\n    };\n  };\n\n  deleteTask = (id) => {\n    this.setState(({ todosData }) => {\n      const idx = todosData.findIndex((el) => el.id === id);\n      const newData = [\n        ...todosData.slice(0, idx),\n        ...todosData.slice(idx + 1),\n      ];\n      return {\n        todosData: newData,\n      };\n    });\n  };\n\n  addTask = (task) => {\n    this.setState(({ todosData }) => {\n      const newTask = this.createNewTask(task);\n      const newData = [...todosData, newTask];\n      return {\n        todosData: newData,\n      };\n    });\n  };\n\n  onToggleDone = (id) => {\n    this.setState(({ todosData }) => {\n      const idx = todosData.findIndex(el => el.id === id);\n      const oldTask = todosData[idx];\n      const newTask = {...oldTask, done: !oldTask.done};\n      const newArray = todosData.with(idx, newTask);\n      return {\n        todosData: newArray\n      }\n    })\n  };\n\n  deleteCompleted = () => {\n    this.setState(({ todosData }) => {\n      const newData = todosData.filter(todo => !todo.done)\n      return {\n        todosData: newData\n      }\n    })\n  }\n\n  changeFilter = (v) => {\n    this.setState(() => ({ filter: v }));\n  };\n\n  filteredTasks = () => {\n    const { todosData, filter } = this.state;\n    let filteredData;\n    if (filter === 'All') {\n      filteredData = todosData.filter(todo => todo.description);\n    } else {\n      filteredData = todosData.filter(todo => {\n        if (filter === 'Active') {\n          return !todo.done;\n        }\n        return todo.done;\n      });\n    }\n    return filteredData\n  }\n\n  createNewTask(task) {\n    return {\n      id: this.state.todosData.length + 1,\n      done: false,\n      description: task,\n      createdTime: new Date(),\n    };\n  }\n\n  render () {\n    const { todosData, filter } = this.state;\n    const todoCounter = todosData.filter(todo => !todo.done).length;\n    return (\n      <section className = 'todoapp'>\n        <NewTaskForm addTask = {this.addTask}/>\n        <AppMain todos = {this.filteredTasks()}\n                onDeleted={this.deleteTask}\n                onToggleDone = {this.onToggleDone}\n                counter = {todoCounter}\n                filter = {filter}\n                changeFilter = {this.changeFilter}\n                deleteCompleted = {this.deleteCompleted}/>\n      </section>\n    );\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}