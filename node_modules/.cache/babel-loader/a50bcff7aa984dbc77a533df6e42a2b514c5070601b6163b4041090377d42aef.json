{"ast":null,"code":"import _regeneratorRuntime from\"/Users/w.k/Desktop/KATA/todo-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/w.k/Desktop/KATA/todo-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/w.k/Desktop/KATA/todo-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/w.k/Desktop/KATA/todo-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/w.k/Desktop/KATA/todo-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/w.k/Desktop/KATA/todo-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{React,Component}from'react';import{formatDistanceToNow}from'date-fns';import'./task.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Task=/*#__PURE__*/function(_Component){_inherits(Task,_Component);var _super=_createSuper(Task);function Task(){var _this;_classCallCheck(this,Task);_this=_super.call(this);_this.state={editing:false};return _this;}_createClass(Task,[{key:\"handleSubmit\",value:function(){var _handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var value,editTask;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();value=this.state.value;editTask=this.props.editTask;if(value.trim()){editTask(event.target.id,value);}this.setState(function(){return{value:''};});this.setState(function(){return{editing:false,value:''};});case 6:case\"end\":return _context.stop();}},_callee,this);}));function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}return handleSubmit;}()},{key:\"onValueChange\",value:function(){var _onValueChange=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:this.setState(function(){return{value:event.target.value};});case 1:case\"end\":return _context2.stop();}},_callee2,this);}));function onValueChange(_x2){return _onValueChange.apply(this,arguments);}return onValueChange;}()},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,todo=_this$props.todo,onDeleted=_this$props.onDeleted,onToggleDone=_this$props.onToggleDone;var id=todo.id,done=todo.done,description=todo.description,createdTime=todo.createdTime;var editing=this.state.editing;var status;if(done){status='completed';}else{status='active';}if(editing===true){status='editing';}return/*#__PURE__*/_jsxs(\"li\",{className:status,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"view\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"toggle\",id:id,type:\"checkbox\",checked:done,onChange:onToggleDone}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:id,children:[/*#__PURE__*/_jsx(\"span\",{className:\"description\",children:description}),/*#__PURE__*/_jsx(\"span\",{className:\"created\",children:\"created \".concat(formatDistanceToNow(createdTime,{includeSeconds:true}),\" ago\")})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"aria-label\":\"edit\",className:\"icon icon-edit\",onClick:function onClick(){return _this2.setState(function(){return{editing:!editing,value:description};});}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"aria-label\":\"delete\",className:\"icon icon-destroy\",onClick:onDeleted})]}),status==='editing'&&/*#__PURE__*/_jsx(\"form\",{id:id,onSubmit:this.handleSubmit.bind(this),children:/*#__PURE__*/_jsx(\"input\",{id:id,type:\"text\",className:\"edit\",defaultValue:description,onChange:function onChange(e){return _this2.onValueChange(e);}})})]});}}]);return Task;}(Component);Task.defaultProps={todo:{id:'0',done:false,description:'empty task',createdTime:new Date()}};export default Task;","map":{"version":3,"names":["React","Component","formatDistanceToNow","jsx","_jsx","jsxs","_jsxs","Task","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","call","state","editing","_createClass","key","value","_handleSubmit","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","editTask","wrap","_callee$","_context","prev","next","preventDefault","props","trim","target","id","setState","stop","handleSubmit","_x","apply","arguments","_onValueChange","_callee2","_callee2$","_context2","onValueChange","_x2","render","_this2","_this$props","todo","onDeleted","onToggleDone","done","description","createdTime","status","className","children","type","checked","onChange","htmlFor","concat","includeSeconds","onClick","onSubmit","bind","defaultValue","e","defaultProps","Date"],"sources":["/Users/w.k/Desktop/KATA/todo-app/src/components/Task/task.jsx"],"sourcesContent":["import { React, Component } from 'react';\nimport { formatDistanceToNow } from 'date-fns';\nimport PropTypes from 'prop-types';\nimport './task.css';\n\nclass Task extends Component {\n  constructor() {\n    super();\n    this.state = {\n      editing: false,\n    };\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    const { value } = this.state;\n    const { editTask } = this.props;\n    if (value.trim()) {\n      editTask(event.target.id, value);\n    }\n    this.setState(() => ({\n      value: '',\n    }));\n    this.setState(() => ({ editing: false, value: '' }));\n  }\n\n  async onValueChange(event) {\n    this.setState(() => ({\n      value: event.target.value,\n    }));\n  }\n\n  render() {\n    const { todo, onDeleted, onToggleDone } = this.props;\n    const { id, done, description, createdTime } = todo;\n    const { editing } = this.state;\n    let status;\n\n    if (done) {\n      status = 'completed';\n    } else {\n      status = 'active';\n    }\n\n    if (editing === true) {\n      status = 'editing';\n    }\n\n    return (\n      <li className={status}>\n        <div className=\"view\">\n          <input\n            className=\"toggle\"\n            id={id}\n            type=\"checkbox\"\n            checked={done}\n            onChange={onToggleDone}\n          />\n          <label htmlFor={id}>\n            <span className=\"description\">{description}</span>\n            <span className=\"created\">{`created ${formatDistanceToNow(createdTime, {\n              includeSeconds: true,\n            })} ago`}</span>\n          </label>\n          <button\n            type=\"button\"\n            aria-label=\"edit\"\n            className=\"icon icon-edit\"\n            onClick={() =>\n              this.setState(() => ({\n                editing: !editing,\n                value: description,\n              }))\n            }\n          />\n          <button\n            type=\"button\"\n            aria-label=\"delete\"\n            className=\"icon icon-destroy\"\n            onClick={onDeleted}\n          />\n        </div>\n        {status === 'editing' && (\n          <form id={id} onSubmit={this.handleSubmit.bind(this)}>\n            <input\n              id={id}\n              type=\"text\"\n              className=\"edit\"\n              defaultValue={description}\n              onChange={(e) => this.onValueChange(e)}\n            />\n          </form>\n        )}\n      </li>\n    );\n  }\n}\n\nTask.defaultProps = {\n  todo: {\n    id: '0',\n    done: false,\n    description: 'empty task',\n    createdTime: new Date(),\n  },\n};\n\nTask.propTypes = {\n  todo: PropTypes.shape({\n    id: PropTypes.string,\n    done: PropTypes.bool,\n    description: PropTypes.string,\n    createdTime: PropTypes.instanceOf(Date),\n  }),\n  onDeleted: PropTypes.func.isRequired,\n  onToggleDone: PropTypes.func.isRequired,\n  editTask: PropTypes.func.isRequired,\n};\n\nexport default Task;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}